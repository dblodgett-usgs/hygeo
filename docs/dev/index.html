<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hydrologic Geospatial Fabric Creation Functions • hygeo</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Hydrologic Geospatial Fabric Creation Functions">
<meta property="og:description" content="hygeo generates inputs for the Next Generation Water Modeling Engine and Framework Prototype project project.">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">hygeo</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.5.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/hygeo.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/camels.html">CAMELS with hygeo output</a>
    </li>
    <li>
      <a href="articles/sugar_creek_hr.html">NHDPlusHR with hygeo output</a>
    </li>
    <li>
      <a href="articles/sugar_creek_refactor.html">Application of hygeo with hyRefactor</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dblodgett-usgs/hygeo/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="hygeo" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#hygeo" class="anchor"></a>hygeo</h1></div>

<p>installation: <code><a href="https://remotes.r-lib.org/reference/install_github.html">remotes::install_github("dblodgett-usgs/hygeo")</a></code></p>
<p>This R package is part of the Next Generation Water Modeling Engine and Framework Prototype project taking place here: <a href="https://github.com/NOAA-OWP/ngen" class="uri">https://github.com/NOAA-OWP/ngen</a></p>
<p><img src="https://github.com/dblodgett-usgs/hygeo/raw/master/docs/img/map.png" alt="Example Image"></p>
<div id="hydrologic-and-hydrodynamic-graphs" class="section level2">
<h2 class="hasAnchor">
<a href="#hydrologic-and-hydrodynamic-graphs" class="anchor"></a>Hydrologic and Hydrodynamic Graphs:</h2>
<p>At the top level we have a hydrologic graph of catchments and nexuses and a hydrodynamic graph of waterbodies that “pins” to the catchment graph at nexuses and hydrologic locations along flowpaths.</p>
<p>Both catchments and nexuses should be thought of as labeled nodes with unlabeled directed edges between.</p>
<p>Any catchment node of degree 1 with an outward edge is a headwater and degree 1 with an inward edge is an outlet.</p>
<p>Any catchment node of degree 2 is a typical catchment that may have a coincident set of (one or more) waterbodies in the waterbody graph.</p>
<p>Using this graph scheme, headwater catchments contribute either to the upstream end of a flowpath or to the shore of a waterbody that breaks up the coverage of catchments.</p>
<p>In the relatively common case where one waterbody is modeled per catchment, the waterbody edge list and catchment edge list are identical and there is one flowpath per waterbody. This is not a requirement of the data model but is a common hydrologic-model implementation scheme.</p>
<p><strong>Data</strong><br>
Two topology edge lists describing the graphs.</p>
</div>
<div id="catchment" class="section level2">
<h2 class="hasAnchor">
<a href="#catchment" class="anchor"></a>Catchment:</h2>
<p>Every catchment has a catchment area realization. The catchment area would be implemented as a local water budget model which takes inputs from the atmosphere and non-surficial hydro geologic systems and contributes outputs to an outlet nexus.</p>
<p>Every catchment of degree 2 will have a flowpath realization. The flowpath would be used to linearly reference hydrologic locations and could be used for hydrologic routing. Using a flowpath realization, waterbodies relate to a catchment at hydrologic locations.</p>
<p><strong>Data</strong><br>
Single valued catchment properties and geometry that correspond to catchment area and flowpath. Modeled as two simple features tables – one for catchment area and one for flowpath.</p>
</div>
<div id="nexus" class="section level2">
<h2 class="hasAnchor">
<a href="#nexus" class="anchor"></a>Nexus:</h2>
<p>All nexuses must be of degree 2 or more. A nexus can receive flow from one or more catchment and contribute it to one or more catchments.</p>
<p><strong>Data</strong><br>
An edge list between nexuses in the catchment graph. A simple-features table of hydrologic locations represents the nexuses and can be used to associate nexuses to waterbodies and flowpaths.</p>
</div>
<div id="waterbodies" class="section level2">
<h2 class="hasAnchor">
<a href="#waterbodies" class="anchor"></a>Waterbodies</h2>
<p>Waterbodies either reside over (rivers and floodplains) or break apart the catchment area coverage (large lakes). Flow can be passed from catchments to waterbodies at nexuses. Waterbodies and catchments can also be associated through hydrologic locations along flowpaths.</p>
<p><strong>Data</strong><br>
Parameters of hydrodynamic model and/or storage discharge or reservoir operations.</p>
</div>
<div id="class-diagram-of-relevant-hy_features-classes" class="section level2">
<h2 class="hasAnchor">
<a href="#class-diagram-of-relevant-hy_features-classes" class="anchor"></a>Class Diagram of relevant HY_Features classes.</h2>
<p><img src="https://github.com/dblodgett-usgs/hygeo/raw/master/docs/uml/summary.png" alt="uml of ngen feature classes"></p>
<ul>
<li>In order to be complete, a catchment realization must be able to perform the functions of a flowpath and a catchment area.</li>
<li>To support multiple scale models and data, any catchment realization may be composed of a network of other catchment realizations.</li>
<li>Catchment and nexus provide identity and topology. They do not have attributes or geometry.</li>
<li>Hydrolocation provides a spatial feature that can be referenced along a flowpath.</li>
<li>An indirect position provides the distance between a point referent and a a hydrologic location measured along a given flowpath.</li>
<li>Models of waterbodies are referenced to flowpaths using hydrolocations and indirect positioning.</li>
</ul>
</div>
<div id="disclaimer" class="section level2">
<h2 class="hasAnchor">
<a href="#disclaimer" class="anchor"></a>Disclaimer</h2>
<p>This information is preliminary or provisional and is subject to revision. It is being provided to meet the need for timely best science. The information has not received final approval by the U.S. Geological Survey (USGS) and is provided on the condition that neither the USGS nor the U.S. Government shall be held liable for any damages resulting from the authorized or unauthorized use of the information.</p>
<p>This software is in the public domain because it contains materials that originally came from the U.S. Geological Survey (USGS), an agency of the United States Department of Interior. For more information, see the official USGS copyright policy at <a href="https://www.usgs.gov/visual-id/credit_usgs.html#copyright">https://www.usgs.gov/visual-id/credit_usgs.html#copyright</a></p>
<p>Although this software program has been used by the USGS, no warranty, expressed or implied, is made by the USGS or the U.S. Government as to the accuracy and functioning of the program and related program material nor shall the fact of distribution constitute any such warranty, and no responsibility is assumed by the USGS in connection therewith.</p>
<p>This software is provided “AS IS.”</p>
<p><a href="https://creativecommons.org/publicdomain/zero/1.0/"><img src="https://i.creativecommons.org/p/zero/1.0/88x31.png" alt="CC0"></a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/dblodgett-usgs/hygeo/">https://​github.com/​dblodgett-usgs/​hygeo/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/dblodgett-usgs/hygeo/issues">https://​github.com/​dblodgett-usgs/​hygeo/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>CC0</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>David Blodgett <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://codecov.io/gh/dblodgett-usgs/hygeo"><img src="https://codecov.io/gh/dblodgett-usgs/hygeo/branch/master/graph/badge.svg?token=obf9f7dtrw" alt="codecov"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by David Blodgett.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
